import{t as x,u,v as y,w as c,x as a}from"../../../_chunks/chunk-4SBAKRXU.js";import{a as t,b as m,c as l,e as h,f as d}from"../../../_chunks/chunk-K3EI6ARL.js";var D=m(h(),1);var g=m(d(),1);var p=m(d(),1);var r=class extends p.EntityDialog{constructor(){super(...arguments);this.form=new y(this.idPrefix)}getFormKey(){return y.formKey}getRowDefinition(){return c}getService(){return a.baseUrl}};t(r,"DivisionDialog"),r=l([p.Decorators.registerClass("JSPM.Organisation.DivisionDialog")],r);var f=m(d(),1),i=m(h(),1);var o=class extends f.PropertyDialog{constructor(){super();this.form=new u(this.idPrefix);this.form=new u(this.idPrefix)}getFormKey(){return u.formKey}getDialogTitle(){return"Excel Import"}getDialogButtons(){return[{text:"Import",click:()=>{if(this.validateBeforeSave()){if(this.form.FileName.value==null||(0,i.isEmptyOrNull)(this.form.FileName.value.Filename)){(0,i.notifyError)("Please select a file!");return}a.ExcelImport({FileName:this.form.FileName.value.Filename},e=>{(0,i.notifyInfo)("Inserted: "+(e.Inserted||0)),e.ErrorList!=null&&e.ErrorList.length>0&&(0,i.notifyError)(e.ErrorList.join(`,\r
 `)),this.dialogClose()})}}},{text:"Cancel",click:()=>this.dialogClose()}]}};t(o,"DivisionExcelImportDialog"),o=l([f.Decorators.registerClass("JSPM.Organisation.DivisionDialog")],o);var n=class extends g.EntityGrid{getColumnsKey(){return x.columnsKey}getDialogType(){return r}getRowDefinition(){return c}getService(){return a.baseUrl}constructor(s){super(s)}getButtons(){var s=super.getButtons();return s.push({title:"Import From Excel",cssClass:"export-xlsx-button",onClick:()=>{var e=new o;e.element.on("dialogclose",()=>{this.refresh(),e=null}),e.dialogOpen()},separator:!0}),s}};t(n,"DivisionGrid"),n=l([g.Decorators.registerClass("JSPM.Organisation.DivisionGrid")],n);function F(){(0,D.initFullHeightGridPage)(new n($("#GridDiv")).element)}t(F,"pageInit");export{F as default};
//# sourceMappingURL=DivisionPage.js.map
