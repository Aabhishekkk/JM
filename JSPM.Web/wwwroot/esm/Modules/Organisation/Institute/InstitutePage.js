import{C as I,D as v,E as f,F as u}from"../../../_chunks/chunk-4SBAKRXU.js";import{a as e,b as i,c as m,e as h,f as c}from"../../../_chunks/chunk-K3EI6ARL.js";var C=i(h(),1);var y=i(c(),1);var d=i(c(),1);var n=class extends d.EntityDialog{constructor(){super(...arguments);this.form=new v(this.idPrefix)}getFormKey(){return v.formKey}getRowDefinition(){return f}getService(){return u.baseUrl}};e(n,"InstituteDialog"),n=m([d.Decorators.registerClass("JSPM.Organisation.InstituteDialog")],n);var x=i(c(),1),l=i(h(),1);var g=i(c(),1),w=i(h(),1);var p=class extends g.PrefixedContext{constructor(r){if(super(r),!p.init){p.init=!0;var t=g.ImageUploadEditor;(0,w.initFormType)(p,["FileName",t])}}},o=p;e(o,"InstituteExcelImportForm"),o.formKey="Institute.InstituteExcelImport";var s=class extends x.PropertyDialog{constructor(){super();this.form=new o(this.idPrefix);this.form=new o(this.idPrefix)}getFormKey(){return o.formKey}getDialogTitle(){return"Excel Import"}getDialogButtons(){return[{text:"Import",click:()=>{if(this.validateBeforeSave()){if(this.form.FileName.value==null||(0,l.isEmptyOrNull)(this.form.FileName.value.Filename)){(0,l.notifyError)("Please select a file!");return}u.ExcelImport({FileName:this.form.FileName.value.Filename},t=>{(0,l.notifyInfo)("Inserted: "+(t.Inserted||0)),t.ErrorList!=null&&t.ErrorList.length>0&&(0,l.notifyError)(t.ErrorList.join(`,\r
 `)),this.dialogClose()})}}},{text:"Cancel",click:()=>this.dialogClose()}]}};e(s,"InstituteExcelImportDialog"),s=m([x.Decorators.registerClass("JSPM.Institute.InstituteExcelImportDialog")],s);var a=class extends y.EntityGrid{getColumnsKey(){return I.columnsKey}getDialogType(){return n}getRowDefinition(){return f}getService(){return u.baseUrl}constructor(r){super(r)}getButtons(){var r=super.getButtons();return r.push({title:"Import From Excel",cssClass:"export-xlsx-button",onClick:()=>{var t=new s;t.element.on("dialogclose",()=>{this.refresh(),t=null}),t.dialogOpen()},separator:!0}),r}};e(a,"InstituteGrid"),a=m([y.Decorators.registerClass("JSPM.Organisation.InstituteGrid")],a);function E(){(0,C.initFullHeightGridPage)(new a($("#GridDiv")).element)}e(E,"pageInit");export{E as default};
//# sourceMappingURL=InstitutePage.js.map
