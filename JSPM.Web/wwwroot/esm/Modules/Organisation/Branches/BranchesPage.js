import{k as c,l as v,m as h,n as u,o as a}from"../../../_chunks/chunk-4SBAKRXU.js";import{a as t,b as m,c as l,e as x,f as g}from"../../../_chunks/chunk-K3EI6ARL.js";var F=m(x(),1);var d=m(g(),1);var p=m(g(),1);var r=class extends p.EntityDialog{constructor(){super(...arguments);this.form=new h(this.idPrefix)}getFormKey(){return h.formKey}getRowDefinition(){return u}getService(){return a.baseUrl}};t(r,"BranchesDialog"),r=l([p.Decorators.registerClass("JSPM.Organisation.BranchesDialog")],r);var f=m(g(),1),i=m(x(),1);var o=class extends f.PropertyDialog{constructor(){super();this.form=new c(this.idPrefix);this.form=new c(this.idPrefix)}getFormKey(){return c.formKey}getDialogTitle(){return"Excel Import"}getDialogButtons(){return[{text:"Import",click:()=>{if(this.validateBeforeSave()){if(this.form.FileName.value==null||(0,i.isEmptyOrNull)(this.form.FileName.value.Filename)){(0,i.notifyError)("Please select a file!");return}a.ExcelImport({FileName:this.form.FileName.value.Filename},e=>{(0,i.notifyInfo)("Inserted: "+(e.Inserted||0)),e.ErrorList!=null&&e.ErrorList.length>0&&(0,i.notifyError)(e.ErrorList.join(`,\r
 `)),this.dialogClose()})}}},{text:"Cancel",click:()=>this.dialogClose()}]}};t(o,"BranchesExcelImportDialog"),o=l([f.Decorators.registerClass("JSPM.Braches.BranchesExcelImportDialog")],o);var n=class extends d.EntityGrid{getColumnsKey(){return v.columnsKey}getDialogType(){return r}getRowDefinition(){return u}getService(){return a.baseUrl}constructor(s){super(s)}getButtons(){var s=super.getButtons();return s.push({title:"Import From Excel",cssClass:"export-xlsx-button",onClick:()=>{var e=new o;e.element.on("dialogclose",()=>{this.refresh(),e=null}),e.dialogOpen()},separator:!0}),s}};t(n,"BranchesGrid"),n=l([d.Decorators.registerClass("JSPM.Organisation.BranchesGrid")],n);function w(){(0,F.initFullHeightGridPage)(new n($("#GridDiv")).element)}t(w,"pageInit");export{w as default};
//# sourceMappingURL=BranchesPage.js.map
