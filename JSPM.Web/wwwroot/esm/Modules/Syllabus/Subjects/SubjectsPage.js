import{e as b,f as h,g as f,h as u}from"../../../_chunks/chunk-3HJLHHOR.js";import{a as t,b as i,c as m,e as S,f as p}from"../../../_chunks/chunk-K3EI6ARL.js";var w=i(S(),1);var x=i(p(),1);var g=i(p(),1),n=i(S(),1);var d=i(p(),1),F=i(S(),1);var c=class extends d.PrefixedContext{constructor(r){if(super(r),!c.init){c.init=!0;var e=d.ImageUploadEditor;(0,F.initFormType)(c,["FileName",e])}}},o=c;t(o,"SubjectExcelImportForm"),o.formKey="Syllabus.SubjectExcelImport";var s=class extends g.PropertyDialog{constructor(){super();this.form=new o(this.idPrefix);this.form=new o(this.idPrefix)}getFormKey(){return o.formKey}getDialogTitle(){return"Excel Import"}getDialogButtons(){return[{text:"Import",click:()=>{if(this.validateBeforeSave()){if(this.form.FileName.value==null||(0,n.isEmptyOrNull)(this.form.FileName.value.Filename)){(0,n.notifyError)("Please select a file!");return}u.ExcelImport({FileName:this.form.FileName.value.Filename},e=>{(0,n.notifyInfo)("Inserted: "+(e.Inserted||0)),e.ErrorList!=null&&e.ErrorList.length>0&&(0,n.notifyError)(e.ErrorList.join(`,\r
 `)),this.dialogClose()})}}},{text:"Cancel",click:()=>this.dialogClose()}]}};t(s,"SubjectExcelImportDialog"),s=m([g.Decorators.registerClass("JSPM.Syllabus.SubjectExcelImportDialog")],s);var y=i(p(),1);var l=class extends y.EntityDialog{constructor(){super(...arguments);this.form=new h(this.idPrefix)}getFormKey(){return h.formKey}getRowDefinition(){return f}getService(){return u.baseUrl}};t(l,"SubjectsDialog"),l=m([y.Decorators.registerClass("JSPM.Syllabus.SubjectsDialog")],l);var a=class extends x.EntityGrid{getColumnsKey(){return b.columnsKey}getDialogType(){return l}getRowDefinition(){return f}getService(){return u.baseUrl}constructor(r){super(r)}getButtons(){var r=super.getButtons();return r.push({title:"Import From Excel",cssClass:"export-xlsx-button",onClick:()=>{var e=new s;e.element.on("dialogclose",()=>{this.refresh(),e=null}),e.dialogOpen()},separator:!0}),r}};t(a,"SubjectsGrid"),a=m([x.Decorators.registerClass("JSPM.Syllabus.SubjectsGrid")],a);function C(){(0,w.initFullHeightGridPage)(new a($("#GridDiv")).element)}t(C,"pageInit");export{C as default};
//# sourceMappingURL=SubjectsPage.js.map
